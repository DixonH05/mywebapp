<!doctype html>
<meta charset="utf-8">
<title>待辦清單</title>
<style>
  body{font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;max-width:860px;margin:24px auto;padding:0 16px;}
  header{display:flex;justify-content:space-between;align-items:center;}
  a.btn, button{padding:6px 10px;border:1px solid #ddd;border-radius:8px;background:#fff;text-decoration:none;color:#222;cursor:pointer;}
  ul{list-style:none;padding:0}
  li{display:flex;justify-content:space-between;align-items:center;border:1px solid #eee;border-radius:10px;padding:10px 12px;margin:8px 0}
  .done{opacity:.55;text-decoration:line-through}
  .duedate{font-size:12px;color:#666}
</style>

<header>
  <h1>✅ 待辦清單</h1>
  <a class="btn" href="{{ url_for('new_task') }}">＋ 新增任務</a>
</header>

{% if tasks %}
<ul>
  {% for t in tasks %}
  <li>
    <div>
      <a href="{{ url_for('show_task', task_id=t.id) }}" class="{{ 'done' if t.done else '' }}">
        {{ t.title }}
      </a>
      {% if t.due_date %}<div class="duedate">到期：{{ t.due_date }}</div>{% endif %}
    </div>
    <form method="post" action="{{ url_for('delete_task', task_id=t.id) }}" onsubmit="return confirm('確定刪除？')">
      <button type="submit">刪除</button>
    </form>
  </li>
  {% endfor %}
</ul>
{% else %}
<p>目前沒有任務，先<a href="{{ url_for('new_task') }}">新增一個</a>吧！</p>
{% endif %}
